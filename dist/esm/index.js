import{ChakraFileUploader as e}from"@aminbaghbanzadeh/chakra-file-uploader";import{Checkbox as n,NumberInput as t,NumberInputField as r,NumberInputStepper as o,NumberIncrementStepper as a,NumberDecrementStepper as l,Center as i,HStack as u,PinInput as c,PinInputField as s,Spinner as d,Text as f,RangeSlider as m,RangeSliderTrack as v,RangeSliderFilledTrack as p,RangeSliderThumb as h,Box as g,Switch as b,Textarea as y,Input as E,useToast as C,Skeleton as w,Select as S,useDisclosure as k,Button as x,Collapse as P,Tooltip as z,FormControl as V,FormLabel as F,FormHelperText as O,FormErrorMessage as I,Alert as M,AlertIcon as T,AlertTitle as j,AlertDescription as L,UnorderedList as D,ListItem as R}from"@chakra-ui/react";import A,{forwardRef as N,useState as U,useEffect as H,useCallback as q,useReducer as B,useMemo as W,Fragment as _}from"react";import{useForm as G,FormProvider as K,useFormContext as Q,Controller as X}from"react-hook-form";import{useTranslation as $}from"react-i18next";import{Editor as J}from"@tinymce/tinymce-react";import Y from"axios";import{withAsyncPaginate as Z,AsyncPaginate as ee}from"react-select-async-paginate";import ne from"react-select/creatable";import{SearchIcon as te,StarIcon as re}from"@chakra-ui/icons";import{yupResolver as oe}from"@hookform/resolvers/yup";import{useMutation as ae,useQuery as le}from"react-query";import{Tree as ie}from"@aminbaghbanzadeh/chakra-tree-view";import{string as ue,number as ce}from"yup";var se=function(){return(se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function de(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}function fe(e,n,t,r){return new(t||(t=Promise))((function(o,a){function l(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,i)}u((r=r.apply(e,n||[])).next())}))}function me(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function ve(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}var pe=N((function(e,t){var r=de(e,[]);return A.createElement(n,se({},r,{isChecked:r.checked,onChange:r.onChange,ref:t}),r.title)})),he=function(e){var n,t=de(e,[]);return A.createElement(J,se({},t.editorProps,{value:t.value,tinymceScriptSrc:process.env.PUBLIC_URL+"/tinymce.min.js",onEditorChange:function(e){return t.onChange(e)},init:se({directionality:"rtl",language:"fa",mobile:{menubar:!1,toolbar:"undo redo | formatselect | bold italic backcolor"},menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat"},null===(n=t.editorProps)||void 0===n?void 0:n.init)}))},ge=N((function(e,n){var i=de(e,[]);return A.createElement(t,se({ref:n},i,{size:"sm",inputMode:"numeric",min:0,max:1/0,value:i.value||0===i.value?i.value:""}),A.createElement(r,{bg:"#F0F5F7",p:"6"}),A.createElement(o,null,A.createElement(a,null),A.createElement(l,null)))})),be=function(e){var n=de(e,[]);return A.createElement(i,{dir:"ltr"},A.createElement(u,null,A.createElement(c,{otp:!0,onChange:function(e){return n.onChange(e)},isInvalid:n.isInvalid,autoFocus:!0,size:"lg"},ve([],Array(n.count)).map((function(e,n){return A.createElement(s,{key:n})})))))},ye=function(e){return{control:function(n,t){return se(se({},n),{padding:"0.2rem",backgroundColor:"#f0f5f7",border:"2px solid !impoetant",borderWidth:"2px !important",borderColor:e.isInvalid?"#e53e3e !important":t.isFocused?"#1967d2":"#E2E8F0 !important",borderRadius:"0.375rem","&hover":{borderColor:"#cbd5e0 !important"}})},input:function(e){return se(se({},e),{color:"#696969",fontSize:"0.875rem"})},valueContainer:function(e){return se(se({},e),{color:"#696969",fontSize:"0.875rem"})},indicatorSeparator:function(e){return se(se({},e),{display:"none"})},indicatorsContainer:function(e){return se(se({},e),{color:"black"})},option:function(e,n){return se(se({},e),{color:n.isSelected?"white":"black",padding:"0.2rem",paddingRight:"0.5rem",fontFamily:"inherit !important",fontSize:"0.875rem","&:hover":se(se({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"}),"&:focus":se(se({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"}),"&:active":se(se({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"})})},loadingMessage:function(e,n){return se(se({},e),{fontSize:"0.875rem"})},noOptionsMessage:function(e,n){return se(se({},e),{fontSize:"0.875rem"})},multiValue:function(e,n){return se(se({},e),{background:"#d5e1f6",fontSize:"0.875rem",padding:"0.2rem 0.4rem"})}}},Ee=Z(ne),Ce=N((function(e,n){var t=de(e,[]),r=function(e,n){return fe(void 0,void 0,void 0,(function(){var r,o,a,l;return me(this,(function(i){switch(i.label){case 0:return[4,Y.get(""+t.fetchUrl+t.searchQueryFieldName+"="+e+"&"+(null!==(o=t.offsetQueryFieldName)&&void 0!==o?o:"SkipCount")+"="+n.length)];case 1:return[2,{options:(r=i.sent()).data[null!==(a=t.resultFieldName)&&void 0!==a?a:"items"],hasMore:r.data[null!==(l=t.totalCountFieldName)&&void 0!==l?l:"totalCount"]>n.length}]}}))}))};return t.isCreatable?A.createElement(Ee,se({styles:ye(t),isRtl:!0},t,{isClearable:!0,isSearchable:!0,selectRef:n,defaultValue:t.value,loadOptions:r,placeholder:"انتخاب کنید.",noOptionsMessage:function(e){return"گزینه ای مرتبط با "+e.inputValue+" یافت نشد."},loadingMessage:function(){return"در حال بارگزاری..."},onChange:function(e,n){return t.onChange(e,n)},components:{LoadingIndicator:function(){return A.createElement(d,{size:"sm",colorScheme:"blue"})}},debounceTimeout:1,formatCreateLabel:function(e){return A.createElement(u,null,A.createElement(te,null),A.createElement(f,null,'"',e,'"'))}})):A.createElement(ee,se({styles:ye(t)},t,{isClearable:!0,isSearchable:!0,selectRef:n,defaultValue:t.value,loadOptions:r,placeholder:"انتخاب کنید.",debounceTimeout:1,noOptionsMessage:function(e){return"گزینه ای مرتبط با "+e.inputValue+" یافت نشد."},loadingMessage:function(){return"در حال بارگزاری..."},onChange:function(e,n){return t.onChange(e,n)},components:{LoadingIndicator:function(){return A.createElement(d,{size:"sm",colorScheme:"blue"})}}}))})),we=function(e){var n,t=de(e,[]),r=U(null!==(n=t.defaultValue)&&void 0!==n?n:[10,100]),o=r[0],a=r[1];return A.createElement(A.Fragment,null,A.createElement(m,se({"aria-label":["min","max"],min:t.min,max:t.max,defaultValue:t.defaultValue},t,{width:"full",onChangeEnd:function(e){a(e),t.onChange(e)},onChange:function(e){a(e)},size:"md"}),A.createElement(v,null,A.createElement(p,null)),A.createElement(h,{index:0,width:16,height:6},A.createElement(g,{color:"primary.500",fontSize:"2xs"},"حداقل (",o[0],")")),A.createElement(h,{index:1,width:16,height:6},A.createElement(g,{color:"primary.500",fontSize:"2xs"},"حداکثر (",o[1],")"))))},Se=function(e){var n=de(e,[]);return A.createElement(b,{onChange:n.onChange})},ke=function(e){var n=de(e,[]);return A.createElement(y,se({},n,{bg:"#F0F5F7"}))},xe=N((function(e,n){var t=de(e,[]);return A.createElement(E,se({_focus:{bg:"white",border:"1px solid #1967D2"}},t,{onChange:t.onChange,ref:n,value:t.value||"",bg:"#f0f5f7",p:"6",color:"#696969"}))})),Pe=function(e,n,t,r){var o=U(null),a=o[0],l=o[1];return H((function(){r&&function(e,n,t){var r=document.getElementById(e);if(r){var o=window.grecaptcha;l(o)}else{var a=document.createElement("script");a.type="text/javascript",a.src=n,a.id=e,a.onload=function(){var e=window.grecaptcha;e.ready((function(){l(e)}))},document.body.appendChild(a)}r&&t&&t()}("recaptcha-key","https://www.google.com/recaptcha/api.js?render="+n,(function(){}))}),[e]),[q((function(){return fe(void 0,void 0,void 0,(function(){return me(this,(function(e){switch(e.label){case 0:if(!a||!a.execute)throw new Error("Google Recaptcha has not been loaded");return[4,a.execute(n,{action:"submit"})];case 1:return[2,e.sent()]}}))}))}),[a])]},ze=A.createContext(void 0);function Ve(e){var n,t=this,r=C({position:"top",isClosable:!0,variant:"top-accent"}),o=Pe("recaptcha-key",e.recaptchaApiKey,0,null!==(n=e.doesHaveRecaptcha)&&void 0!==n&&n)[0],a=e.formSchema.describe(),l=ae(e.mutationFunction,{retry:0}),i=G({mode:"onSubmit",resolver:oe(e.formSchema),defaultValues:e.defaultValues?e.defaultValues:void 0});return H((function(){i.reset(e.defaultValues)}),[e.defaultValues,i.reset]),A.createElement(ze.Provider,{value:{formSchema:a,control:i.control,translation:e.translation,router:e.router,isLoading:l.isLoading,isError:l.isError,isDefaultValueFetching:e.isDefaultValueFetching}},A.createElement(K,se({},i),A.createElement("form",{noValidate:!0,style:{width:"100%"},onSubmit:i.handleSubmit((function(n){return fe(t,void 0,void 0,(function(){var t;return me(this,(function(a){switch(a.label){case 0:return e.onSubmitSucess?(e.onSubmitSucess(n),[2]):e.doesHaveRecaptcha?[4,o()]:[3,2];case 1:t=a.sent(),n=se(se({},n),{captchaToken:t}),a.label=2;case 2:return l.mutate(n,{onSuccess:function(t){e.showToastOnSuccess&&r({title:e.successToastMessage,status:"success"}),e.onMutateSucess&&e.onMutateSucess(t.data,n)},onError:function(n){e.onMutateError&&e.onMutateError(n),r({title:n.code,description:n.message,status:"error"})}}),[2]}}))}))}),(function(n){e.onSubmitError&&e.onSubmitError(n)}))},e.children)))}function Fe(){var e=A.useContext(ze);if(void 0===e)throw new Error("useAminook must be used within a FormBuilder Tag");return e}var Oe=function(){return A.createElement(w,{h:"12",w:"full",borderRadius:"8px"})},Ie=N((function(e,n){var t=de(e,[]);return t.options?A.createElement(Me,se({ref:n},t)):t.fetchUrl?A.createElement(Te,se({ref:n},t)):A.createElement(S,null)})),Me=N((function(e,n){var t,r=de(e,[]);return A.createElement(S,se({},r,{ref:n,onChange:r.onChange,bg:"#F0F5F7",size:"lg",fontSize:"sm"}),null===(t=r.options)||void 0===t?void 0:t.map((function(e){return A.createElement("option",{value:e.value,key:e.value},e.label)})))})),Te=N((function(e,n){var t=de(e,[]),r=le(t.fetchUrl,(function(){return Y.get(t.fetchUrl).then((function(e){return e.data}))}),{select:function(e){return e.items.map((function(e){return{label:t.labelProperty?e[t.labelProperty]:e.label,value:t.valueProperty?e[t.valueProperty]:e.value}}))}}),o=r.data;return r.isLoading?A.createElement(Oe,null):A.createElement(Me,se({ref:n,options:o},t))})),je=N((function(e,n){var t,r,o=de(e,[]),a=U(),l=a[0],i=a[1],u=U(null!==(t=o.value)&&void 0!==t?t:[]),c=u[0],s=u[1],d=q((function(e){i(e)}),[]),f=q((function(e){if(l)switch(e.key){case"Enter":case"Tab":e.preventDefault(),e.stopPropagation(),i(""),s((function(e){return ve(ve([],e),[{label:l,value:l}])})),o.onChange(c.map((function(e){return e.value})).concat(l).join(",")),i("")}}),[l]),m=q((function(e,n){o.onChange(e.map((function(e){return e.value})).join(",")),s(e)}),[s]);return A.createElement(ne,se({styles:ye(o)},o,{ref:n,placeholder:null!==(r=o.placeholder)&&void 0!==r?r:"انتخاب کنید.",components:{DropdownIndicator:null},inputValue:l,isMulti:!0,menuIsOpen:!1,onChange:m,onInputChange:d,onKeyDown:f,value:c}))})),Le=function(e){var n=de(e,[]);console.log(n);var t=k(),r=t.isOpen,o=t.onToggle,a=le(n.fetchUrl,(function(){return Y.get(n.fetchUrl,{headers:se({},n.requestHeaders)}).then((function(e){return e}))}),{enabled:!!n.fetchUrl}),l=a.data;return a.isLoading,A.createElement(A.Fragment,null,!n.inline&&A.createElement(x,se({onClick:o},n.btnProps),n.btnText),A.createElement(P,{in:!!n.inline||r,animateOpacity:!0},A.createElement(ie,se({},n,{data:n.data?n.data:n.treeDataTransformer(l)}))))},De=function(e){var n=e.width;return A.createElement(w,{h:"12",w:n||"full",borderRadius:"8px"})},Re=function(){return A.createElement(u,{spacing:"2"},A.createElement(w,{h:"5",rounded:"sm",w:"5"}),A.createElement(w,{h:"5",rounded:"sm",w:"40"}))},Ae=function(){return A.createElement(w,{h:"28",w:"full"})},Ne=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0};function Ue(e,n){switch(n.type){case"PointerMove":return se(se({},e),{hoverValue:n.payload});case"PointerLeave":return{defaultValue:e.defaultValue,hoverValue:null};case"MouseClick":return se(se({},e),{defaultValue:n.payload});default:return e}}function He(e){var n,t=e.onClick,r=e.initialValue,o=void 0===r?0:r,a=e.ratingValue,l=void 0===a?0:a,i=e.iconsCount,u=void 0===i?5:i,c=e.size,s=void 0===c?20:c,d=e.readonly,f=void 0!==d&&d,m=e.fillColor,v=void 0===m?"#ffbc0b":m,p=e.fillColorArray,h=void 0===p?[]:p,g=e.emptyColor,b=void 0===g?"#cccccc":g,y=e.fullIcon,E=void 0===y?null:y,C=e.emptyIcon,w=void 0===C?null:C,S=e.customIcons,k=void 0===S?[]:S,x=e.rtl,P=void 0!==x&&x,V=e.allowHalfIcon,F=void 0!==V&&V,O=e.allowHover,I=void 0===O||O,M=e.transition,T=void 0!==M&&M,j=e.className,L=void 0===j?"react-simple-star-rating":j,D=e.style,R=e.fullClassName,N=void 0===R?"filled-icons":R,U=e.emptyClassName,H=void 0===U?"empty-icons":U,G=e.fullStyle,K=e.emptyStyle,Q=e.showTooltip,X=void 0!==Q&&Q,$=e.tooltipDefaultText,J=void 0===$?"امتیاز":$,Y=e.tooltipArray,Z=void 0===Y?[]:Y;e.tooltipClassName,e.tooltipStyle;var ee=B(Ue,{defaultValue:l,hoverValue:null}),ne=ee[0],te=ne.defaultValue,oe=ne.hoverValue,ae=ee[1];A.useEffect((function(){return ae({type:"MouseClick",payload:l})}),[l]);var le=function(e){var n=e.clientX,t=e.currentTarget.children[0].getBoundingClientRect(),r=t.left,o=t.right,a=t.width,l=function(e,n,t){for(var r=100/e,o=t/e,a=100,l=0;l<e;l+=1)if(n<=o*l+o/4){a=0===l&&n<o/2?0:r*l;break}return a}(de,P?o-n:n-r,a);l>0&&oe!==l&&ae({type:"PointerMove",payload:l})},ie=function(){oe&&(ae({type:"MouseClick",payload:oe}),t&&t(oe/20))},ue=W((function(){return Math.round(o/u*100)}),[o,u]),ce=W((function(){return I&&oe&&oe||te&&te||ue}),[I,oe,te,ue]),de=W((function(){return F?2*u:u}),[F,u]),fe=q((function(e){var n=1;return e&&(n=F?e/de:e/2/10),Math.round(n-1)}),[F,de]),me=q((function(e){return F?e/2/10:fe(e)+1}),[F,fe]),pe=function(e){return Z.length>0?Z[fe(e)]:me(e)||0};return A.createElement(z,{isDisabled:!X,label:oe&&pe(oe)||te&&pe(te)||ue&&pe(ue)||J},A.createElement("span",{style:{display:"inline-block",direction:P?"rtl":"ltr",touchAction:"none",position:"relative"}},A.createElement("span",{className:L,style:se({position:"relative",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",cursor:f?"":"pointer",verticalAlign:"middle",userSelect:"none"},D),onPointerMove:f?void 0:le,onPointerEnter:f?void 0:function(e){Ne()&&le(e)},onPointerLeave:f?void 0:function(){Ne()&&ie(),ae({type:"PointerLeave"})},onClick:f?void 0:ie,"aria-hidden":"true"},A.createElement("span",{className:H,style:se({display:"inline-block",color:b},K)},ve([],Array(u)).map((function(e,n){var t;return A.createElement(_,{key:n},(null===(t=k[n])||void 0===t?void 0:t.icon)||w||A.createElement(re,{key:n,boxSize:null!=s?s:{base:5,md:8,lg:10},style:{display:"inline-block"}}))}))),A.createElement("span",{className:N,style:se((n={position:"absolute",top:0},n[P?"right":"left"]=0,n.color=I&&oe&&h[fe(oe)]||te&&h[fe(te)]||v,n.overflow="hidden",n.whiteSpace="nowrap",n.display="inline-block",n.transition=T?"width .2s ease, color .2s ease":"",n.width=ce+"%",n),G)},ve([],Array(u)).map((function(e,n){var t;return A.createElement(_,{key:n},(null===(t=k[n])||void 0===t?void 0:t.icon)||E||A.createElement(re,{boxSize:null!=s?s:{base:5,md:8,lg:10},display:"initial",style:{display:"inline-block"}}))}))))))}var qe=N((function(n,t){var r,o,a,l,i,u,c,s,d,f=de(n,[]),m=$("validations")[0],v=Fe(),p=v.translation,h=v.router,b=v.formSchema,y=v.isDefaultValueFetching,E=Q().setValue,C=b.fields[f.name],w=null!==(r=null==C?void 0:C.meta)&&void 0!==r?r:f.fieldSetting,S={name:f.name,value:f.value};return A.createElement(g,{my:f.my,mx:f.mx,display:"inline-block",w:{base:null!==(a=null===(o=f.width)||void 0===o?void 0:o.base)&&void 0!==a?a:"full",md:null!==(i=null===(l=f.width)||void 0===l?void 0:l.md)&&void 0!==i?i:"full"}},A.createElement(V,{display:f.hidden?"none":"initial",isInvalid:!!f.error,isRequired:null!==(u=null==C?void 0:C.tests.some((function(e){return"required"===e.name})))&&void 0!==u&&u},!(null==w?void 0:w.hideLabel)&&"checkbox"!==w.type&&A.createElement(F,{htmlFor:f.name,fontSize:"sm",fontWeight:"bold",color:y?"gray.300":"#202124"},(null==C?void 0:C.label)?null==C?void 0:C.label:(null===(c=null==f?void 0:f.fieldSetting)||void 0===c?void 0:c.label)?null===(s=null==f?void 0:f.fieldSetting)||void 0===s?void 0:s.label:p((h?null==h?void 0:h.pathname:window.location.pathname)+".form.labels."+f.name)),function(){var n,r,o,a,l,i;switch(null!==(n=null==w?void 0:w.type)&&void 0!==n?n:null===(r=f.fieldSetting)||void 0===r?void 0:r.type){case"input-text":case"input-mask":return y?A.createElement(De,{width:null===(o=(null==w?void 0:w.fieldProps).width)||void 0===o?void 0:o.toString()}):A.createElement(xe,se({ref:t},se(se({},S),null==w?void 0:w.fieldProps),{onChange:function(e){f.onChange(function(e){var n=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],t=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];if("string"==typeof e)for(var r=0;r<10;r++)e=e.replace(n[r],r.toString()).replace(t[r],r.toString());return e}(e.target.value))}}));case"input-number":return y?A.createElement(De,{width:null===(a=(null==w?void 0:w.fieldProps).width)||void 0===a?void 0:a.toString()}):A.createElement(ge,se({ref:t},se(se({},S),null==w?void 0:w.fieldProps),{onChange:function(e,n){f.onChange(n)}}));case"checkbox":return y?A.createElement(Re,null):A.createElement(pe,se({ref:t},null==w?void 0:w.fieldProps,S,{checked:S.value,title:null==C?void 0:C.label,onChange:function(e){return f.onChange(e.target.checked,e)}}));case"select":return y?A.createElement(Oe,null):A.createElement(Ie,se({ref:t},null==w?void 0:w.fieldProps,S,{onChange:function(e){return f.onChange(e.target.value,e)}}));case"switch":return A.createElement(Se,se({},S,null==w?void 0:w.fieldProps,{onChange:function(e){return f.onChange(e.target.checked)}}));case"text-area":return y?A.createElement(Ae,null):A.createElement(ke,se({},S,null==w?void 0:w.fieldProps,{onChange:function(e){return f.onChange(e.target.value,e)}}));case"slider":return A.createElement(we,se({},f,null==w?void 0:w.fieldProps,{onChange:function(e){f.name.split("_").forEach((function(n,t){return E(""+n,e[t])}))}}));case"input-pin":return A.createElement(be,se({},S,null==w?void 0:w.fieldProps,{isInvalid:!!f.error,onChange:function(e){return f.onChange(e)}}));case"editor":return A.createElement(he,se({},null==w?void 0:w.fieldProps,{value:f.value,onChange:function(e){return f.onChange(e)}}));case"uploader":return A.createElement(e,se({},null==w?void 0:w.fieldProps));case"reach-select":return y?A.createElement(Oe,null):A.createElement(Ce,se({ref:t},null==w?void 0:w.fieldProps,{isInvalid:!!f.error,isDisabled:null==w?void 0:w.isDisabled},S,{onChange:function(e){f.onChange(e)}}));case"input-tag":return y?A.createElement(De,null):A.createElement(je,se({ref:t},null==w?void 0:w.fieldProps,{isInvalid:!!f.error},S,{onChange:function(e){f.onChange(e)},value:f.value?null===(i=null===(l=f.value)||void 0===l?void 0:l.split(","))||void 0===i?void 0:i.map((function(e){return{value:e,label:e}})):void 0}));case"tree-view":return A.createElement(Le,se({},null==w?void 0:w.fieldProps,S,{onChange:function(e){f.onChange(e)},defaultSelected:f.value}));case"star-picker":return A.createElement(He,se({},null==w?void 0:w.fieldProps,S,{onClick:function(e){f.onChange(e)},initialValue:f.value}));default:return A.createElement(g,null,"Unrecognized field type.")}}(),!!(null==w?void 0:w.helperText)&&A.createElement(O,{fontSize:"xs"},null==w?void 0:w.helperText),!!f.error&&A.createElement(I,{fontSize:"xs"},p?m(f.error.type,{path:p((h?h.pathname:window.location.pathname)+".form.labels."+f.name),value:f.value}):null===(d=f.error)||void 0===d?void 0:d.message)))})),Be=function(e){var n=de(e,[]),t=Fe().control;return A.createElement(X,{name:n.name,control:t,render:function(e){var t=e.field,r=e.fieldState;return e.formState,A.createElement(qe,se({error:r.error},se(se(se({},n),r),t)))}})},We=function(e){var n,t,r;e.type;var o=e.text;e.onClick;var a=de(e,["type","text","onClick"]),l=Fe(),i=l.isLoading,c=l.isDefaultValueFetching,s=Q().formState,d=k(),m=d.isOpen,v=d.onToggle;return H((function(){console.log(s.errors)}),[s]),A.createElement(u,{spacing:"6",mt:a.mt?a.mt:"6"},A.createElement(x,se({isLoading:i,loadingText:"در حال ذخیره اطلاعات...",type:"submit",variant:"primary_dark",fontSize:"sm"},a,{disabled:c||i}),o),(null===(n=Object.keys(s.errors))||void 0===n?void 0:n.length)>0&&A.createElement(x,{fontSize:"sm",onClick:v,variant:"outline",colorScheme:"red"},"مشاهده مشکلات"),A.createElement(P,{in:m&&(null===(t=Object.keys(s.errors))||void 0===t?void 0:t.length)>0,animateOpacity:!0},A.createElement(M,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"start",justifyContent:"start",textAlign:"right",p:"6"},A.createElement(T,{boxSize:"40px",mr:0}),A.createElement(j,{mt:4,mb:1,fontSize:"sm"},"ثبت اطلاعات پس از رفع مشکلات زیر امکانپذیر است."),A.createElement(L,{maxWidth:"sm"},A.createElement(D,null,null===(r=Object.keys(s.errors))||void 0===r?void 0:r.map((function(e,n){return A.createElement(R,{key:n},A.createElement(u,null,A.createElement(f,{fontWeight:"bold",fontSize:"sm"},e),A.createElement(f,{fontSize:"xs"},s.errors[e].message)))})))))))},_e=/09(1[0-9]|3[1-9]|2[1-9])-?[0-9]{3}-?[0-9]{4}/,Ge=/^0[0-9]{2,}[0-9]{7,}$/,Ke=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],Qe=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],Xe=ue().transform((function(e,n){return ue().isType(e)&&null!==e?function(e){if("string"==typeof e)for(var n=0;n<10;n++)e=e.replace(Ke[n],""+n).replace(Qe[n],""+n);return e}(e):e})),$e=function(){return ce().transform((function(e,n){return e?e.value:n?n.value:null}))};export{Be as ControlledFormControl,Ve as FormBuilder,qe as FormControl,We as FormSubmitButton,Ie as Select,Xe as inherentNumberString,_e as mobileIranValidation,Ge as phoneNumberIranValidation,$e as selectWithValueExtractor,Fe as useAminook};
//# sourceMappingURL=index.js.map

import{ChakraFileUploader as e,ChakraFileUploaderSkeleton as n}from"@aminbaghbanzadeh/chakra-file-uploader";import{Checkbox as t,HStack as r,Skeleton as o,NumberInput as a,NumberInputField as l,NumberInputStepper as i,NumberIncrementStepper as u,NumberDecrementStepper as c,Box as s,InputGroup as d,Input as f,InputRightElement as m,IconButton as v,Center as p,PinInput as g,PinInputField as h,RadioGroup as b,Stack as E,Radio as y,SkeletonCircle as C,Spinner as w,Text as S,Select as k,RangeSlider as x,RangeSliderTrack as P,RangeSliderFilledTrack as z,RangeSliderThumb as V,Tooltip as F,Switch as O,Textarea as I,useDisclosure as T,Button as A,Collapse as M,useToast as D,FormControl as N,FormLabel as j,FormHelperText as L,FormErrorMessage as R,Alert as U,AlertIcon as _,AlertTitle as H,AlertDescription as W,UnorderedList as q,ListItem as B}from"@chakra-ui/react";import G,{forwardRef as Q,useRef as K,useState as X,useEffect as $,useCallback as J,useReducer as Y,useMemo as Z,Fragment as ee}from"react";import{useForm as ne,FormProvider as te,useFormContext as re,Controller as oe}from"react-hook-form";import{Editor as ae}from"@tinymce/tinymce-react";import{PasswordChecker as le}from"@aminbaghbanzadeh/password-policies-screen";import{ViewOffIcon as ie,ViewIcon as ue,SearchIcon as ce,StarIcon as se}from"@chakra-ui/icons";import de from"axios";import{withAsyncPaginate as fe,AsyncPaginate as me}from"react-select-async-paginate";import ve from"react-select/creatable";import{Tree as pe}from"@aminbaghbanzadeh/chakra-tree-view";import{yupResolver as ge}from"@hookform/resolvers/yup";import{string as he,number as be}from"yup";var Ee=function(){return(Ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function ye(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}function Ce(e,n,t,r){return new(t||(t=Promise))((function(o,a){function l(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,i)}u((r=r.apply(e,n||[])).next())}))}function we(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Se(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}var ke=function(e){var n=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],t=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];if("string"==typeof e)for(var r=0;r<10;r++)e=e.replace(n[r],r.toString()).replace(t[r],r.toString());return e},xe=Q((function(e,n){var r=ye(e,[]);return G.createElement(t,Ee({},r,{isChecked:r.checked,onChange:r.onChange,ref:n}),r.title)})),Pe=function(){return G.createElement(r,{spacing:"2"},G.createElement(o,{h:"5",rounded:"sm",w:"5"}),G.createElement(o,{h:"5",rounded:"sm",w:"40"}))},ze=function(e){var n,t=ye(e,[]);return G.createElement(ae,Ee({},t.editorProps,{value:t.value,tinymceScriptSrc:process.env.PUBLIC_URL+"/tinymce/tinymce.min.js",onEditorChange:function(e){return t.onChange(e)},init:Ee({directionality:"rtl",language:"fa",mobile:{menubar:!1,toolbar:"undo redo | formatselect | bold italic backcolor"},menubar:!1,height:300,plugins:["lists","directionality"],toolbar:"undo redo | ltr rtl | blocks |  formatselect | bold italic  | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | "},null===(n=t.editorProps)||void 0===n?void 0:n.init)}))},Ve=Q((function(e,n){var t=ye(e,[]);return G.createElement(a,Ee({ref:n},t,{size:"sm",inputMode:"numeric",min:0,max:1/0,value:t.value||0===t.value?NaN==t.value?"":t.value:""}),G.createElement(l,{bg:"#F0F5F7",p:"6"}),G.createElement(i,null,G.createElement(u,null),G.createElement(c,null)))})),Fe=Q((function(e,n){var t=e.showPasswordStatusScreen,r=e.passwordPolicies,o=ye(e,["showPasswordStatusScreen","passwordPolicies"]),a=G.useState(!1),l=a[0],i=a[1],u=K(null);return G.createElement(s,null,G.createElement(d,null,G.createElement(f,Ee({_focus:{bg:"white",border:"1px solid #1967D2"},bg:"#f0f5f7",p:"6",color:"#696969"},o,{onChange:o.onChange,ref:function(e){n(e),u.current=e},value:o.value||"",type:l?"text":"password"})),G.createElement(m,{width:"4.5rem",top:"calc(50% - 1.25rem)"},G.createElement(v,{"aria-label":"toggle password showing",icon:l?G.createElement(ie,null):G.createElement(ue,null),onClick:function(){return i(!l)}}))),t&&G.createElement(le,Ee({},r,{ref:u})))})),Oe=function(e){var n=ye(e,[]);return G.createElement(p,{dir:"ltr"},G.createElement(r,null,G.createElement(g,{otp:!0,onChange:function(e){return n.onChange(e)},isInvalid:n.isInvalid,autoFocus:!0,size:"lg"},Se([],Array(n.count)).map((function(e,n){return G.createElement(h,{key:n})})))))},Ie=function(e){var n=ye(e,[]),t=X(n.options),a=t[0],l=t[1];return $((function(){n.fetchUrl&&de.get(n.fetchUrl).then((function(e){l((function(){var t;return Array.isArray(e.data)?e.data:e.data[null!==(t=n.resultFieldName)&&void 0!==t?t:"items"]}))}))}),[n.fetchUrl]),G.createElement(b,Ee({},n,{mt:"4",value:n.value,onChange:n.onChange}),G.createElement(E,{spacing:2},null==a?void 0:a.map((function(e){var t;return G.createElement(y,Ee({},n.radioProps,{key:e.value,value:null===(t=e.value)||void 0===t?void 0:t.toString()}),e.label)})),!a&&Array(5).fill(0).map((function(e,n){return G.createElement(r,{key:n},G.createElement(C,{boxSize:"20px"}),G.createElement(o,{h:"10",w:"48"}))})),!!a&&!!n.value&&G.createElement(y,Ee({},n.radioProps,{key:"init",value:""}),"تفاوتی ندارد")))},Te=function(e){return{control:function(n,t){var r;return Ee(Ee({},n),{padding:"0.2rem",backgroundColor:null!==(r=e.backgroundColor)&&void 0!==r?r:"#f0f5f7",border:"2px solid !impoetant",borderWidth:"2px !important",borderColor:e.isInvalid?"#e53e3e !important":t.isFocused?"#1967d2":"#E2E8F0 !important",borderRadius:"0.375rem","&hover":{borderColor:"#cbd5e0 !important"}})},input:function(e){return Ee(Ee({},e),{color:"#696969",fontSize:"0.875rem"})},valueContainer:function(e){return Ee(Ee({},e),{color:"#696969",fontSize:"0.875rem"})},indicatorSeparator:function(e){return Ee(Ee({},e),{display:"none"})},indicatorsContainer:function(e){return Ee(Ee({},e),{color:"black"})},option:function(e,n){return Ee(Ee({},e),{color:n.isSelected?"white":"black",padding:"0.2rem",paddingRight:"0.5rem",fontFamily:"inherit !important",fontSize:"0.875rem","&:hover":Ee(Ee({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"}),"&:focus":Ee(Ee({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"}),"&:active":Ee(Ee({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"})})},loadingMessage:function(e,n){return Ee(Ee({},e),{fontSize:"0.875rem"})},noOptionsMessage:function(e,n){return Ee(Ee({},e),{fontSize:"0.875rem"})},multiValue:function(e,n){return Ee(Ee({},e),{background:"#d5e1f6",fontSize:"0.875rem",padding:"0.2rem 0.4rem"})}}},Ae=fe(ve),Me=Q((function(e,n){var t=ye(e,[]),o=function(e,n){return Ce(void 0,void 0,void 0,(function(){var r,o,a,l;return we(this,(function(i){switch(i.label){case 0:return[4,de.get(""+t.fetchUrl+t.searchQueryFieldName+"="+e+"&"+(null!==(o=t.offsetQueryFieldName)&&void 0!==o?o:"SkipCount")+"="+n.length)];case 1:return r=i.sent(),[2,{options:Array.isArray(r.data)?r.data:r.data[null!==(a=t.resultFieldName)&&void 0!==a?a:"items"],hasMore:Array.isArray(r.data)?r.data.length>n.length:r.data[null!==(l=t.totalCountFieldName)&&void 0!==l?l:"totalCount"]>n.length}]}}))}))};return t.isCreatable?G.createElement(Ae,Ee({styles:Te(t),isRtl:!0,placeholder:"انتخاب کنید.",isClearable:!0,isSearchable:!0,selectRef:n,defaultValue:t.value,noOptionsMessage:function(e){return"گزینه ای مرتبط با "+e.inputValue+" یافت نشد."},loadingMessage:function(){return"در حال بارگزاری..."},onChange:function(e,n){return t.onChange(e,n)},components:{LoadingIndicator:function(){return G.createElement(w,{size:"sm",colorScheme:"blue"})}},debounceTimeout:2e3,formatCreateLabel:function(e){return G.createElement(r,null,G.createElement(ce,null),G.createElement(S,null,'"',e,'"'))}},t,{loadOptions:o})):G.createElement(me,Ee({styles:Te(t),placeholder:"انتخاب کنید.",noOptionsMessage:function(e){return"گزینه ای مرتبط با "+e.inputValue+" یافت نشد."},isClearable:!0,isSearchable:!0,selectRef:n,defaultValue:t.value,debounceTimeout:2e3,loadingMessage:function(){return"در حال بارگزاری..."},onChange:function(e,n){return t.onChange(e,n)},components:{LoadingIndicator:function(){return G.createElement(w,{size:"sm",colorScheme:"blue"})}}},t,{loadOptions:o}))})),De=Q((function(e,n){var t,r,o=ye(e,[]),a=X(),l=a[0],i=a[1],u=X(null!==(t=o.value)&&void 0!==t?t:[]),c=u[0],s=u[1];$((function(){o.value&&s(o.value)}),[o.value]);var d=J((function(e){i(e)}),[]),f=J((function(e){if(l)switch(e.key){case"Enter":case"Tab":e.preventDefault(),e.stopPropagation(),i(""),s((function(e){return Se(Se([],e),[{label:l,value:l}])})),o.onChange(c.map((function(e){return e.value})).concat(l).join(",")),i("")}}),[l]),m=J((function(e,n){o.onChange(e.map((function(e){return e.value})).join(",")),s(e)}),[s]);return G.createElement(ve,Ee({styles:Te(o)},o,{ref:n,placeholder:null!==(r=o.placeholder)&&void 0!==r?r:"انتخاب کنید.",components:{DropdownIndicator:null},inputValue:l,isMulti:!0,menuIsOpen:!1,onChange:m,onInputChange:d,onKeyDown:f,value:c}))})),Ne=Q((function(e,n){var t=ye(e,[]);return t.options?G.createElement(je,Ee({ref:n},t)):t.fetchUrl?G.createElement(Le,Ee({ref:n},t)):G.createElement(k,null)})),je=Q((function(e,n){var t,r=ye(e,[]);return G.createElement(k,Ee({},r,{ref:n,onChange:r.onChange,bg:"#F0F5F7",size:"lg",fontSize:"sm"}),null===(t=r.options)||void 0===t?void 0:t.map((function(e){return G.createElement("option",{value:e.value,key:e.value},e.label)})))})),Le=Q((function(e,n){return ye(e,[]),G.createElement(s,null)})),Re=function(){return G.createElement(o,{h:"12",w:"full",borderRadius:"8px"})},Ue=function(e){var n,t=ye(e,[]),r=X(null!==(n=t.defaultValue)&&void 0!==n?n:[10,100]),o=r[0],a=r[1];return G.createElement(G.Fragment,null,G.createElement(x,Ee({"aria-label":["min","max"],min:t.min,max:t.max,defaultValue:t.defaultValue},t,{width:"full",onChangeEnd:function(e){a(e),t.onChange(e)},onChange:function(e){a(e)},size:"md"}),G.createElement(P,null,G.createElement(z,null)),G.createElement(V,{index:0,width:16,height:6},G.createElement(s,{color:"primary.500",fontSize:"2xs"},"حداقل (",o[0],")")),G.createElement(V,{index:1,width:16,height:6},G.createElement(s,{color:"primary.500",fontSize:"2xs"},"حداکثر (",o[1],")"))))},_e=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0};function He(e,n){switch(n.type){case"PointerMove":return Ee(Ee({},e),{hoverValue:n.payload});case"PointerLeave":return{defaultValue:e.defaultValue,hoverValue:null};case"MouseClick":return Ee(Ee({},e),{defaultValue:n.payload});default:return e}}function We(e){var n,t=e.onClick,r=e.initialValue,o=void 0===r?0:r,a=e.ratingValue,l=void 0===a?0:a,i=e.iconsCount,u=void 0===i?5:i,c=e.size,s=void 0===c?20:c,d=e.readonly,f=void 0!==d&&d,m=e.fillColor,v=void 0===m?"#ffbc0b":m,p=e.fillColorArray,g=void 0===p?[]:p,h=e.emptyColor,b=void 0===h?"#cccccc":h,E=e.fullIcon,y=void 0===E?null:E,C=e.emptyIcon,w=void 0===C?null:C,S=e.customIcons,k=void 0===S?[]:S,x=e.rtl,P=void 0!==x&&x,z=e.allowHalfIcon,V=void 0!==z&&z,O=e.allowHover,I=void 0===O||O,T=e.transition,A=void 0!==T&&T,M=e.className,D=void 0===M?"react-simple-star-rating":M,N=e.style,j=e.fullClassName,L=void 0===j?"filled-icons":j,R=e.emptyClassName,U=void 0===R?"empty-icons":R,_=e.fullStyle,H=e.emptyStyle,W=e.showTooltip,q=void 0!==W&&W,B=e.tooltipDefaultText,Q=void 0===B?"امتیاز":B,K=e.tooltipArray,X=void 0===K?[]:K;e.tooltipClassName,e.tooltipStyle;var $=Y(He,{defaultValue:l,hoverValue:null}),ne=$[0],te=ne.defaultValue,re=ne.hoverValue,oe=$[1];G.useEffect((function(){return oe({type:"MouseClick",payload:l})}),[l]);var ae=function(e){var n=e.clientX,t=e.currentTarget.children[0].getBoundingClientRect(),r=t.left,o=t.right,a=t.width,l=function(e,n,t){for(var r=100/e,o=t/e,a=100,l=0;l<e;l+=1)if(n<=o*l+o/4){a=0===l&&n<o/2?0:r*l;break}return a}(ce,P?o-n:n-r,a);l>0&&re!==l&&oe({type:"PointerMove",payload:l})},le=function(){re&&(oe({type:"MouseClick",payload:re}),t&&t(re/20))},ie=Z((function(){return Math.round(o/u*100)}),[o,u]),ue=Z((function(){return I&&re&&re||te&&te||ie}),[I,re,te,ie]),ce=Z((function(){return V?2*u:u}),[V,u]),de=J((function(e){var n=1;return e&&(n=V?e/ce:e/2/10),Math.round(n-1)}),[V,ce]),fe=J((function(e){return V?e/2/10:de(e)+1}),[V,de]),me=function(e){return X.length>0?X[de(e)]:fe(e)||0};return G.createElement(F,{isDisabled:!q,label:re&&me(re)||te&&me(te)||ie&&me(ie)||Q},G.createElement("span",{style:{display:"inline-block",direction:P?"rtl":"ltr",touchAction:"none",position:"relative"}},G.createElement("span",{className:D,style:Ee({position:"relative",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",cursor:f?"":"pointer",verticalAlign:"middle",userSelect:"none"},N),onPointerMove:f?void 0:ae,onPointerEnter:f?void 0:function(e){_e()&&ae(e)},onPointerLeave:f?void 0:function(){_e()&&le(),oe({type:"PointerLeave"})},onClick:f?void 0:le,"aria-hidden":"true"},G.createElement("span",{className:U,style:Ee({display:"inline-block",color:b},H)},Se([],Array(u)).map((function(e,n){var t;return G.createElement(ee,{key:n},(null===(t=k[n])||void 0===t?void 0:t.icon)||w||G.createElement(se,{key:n,boxSize:null!=s?s:{base:5,md:8,lg:10},style:{display:"inline-block"}}))}))),G.createElement("span",{className:L,style:Ee((n={position:"absolute",top:0},n[P?"right":"left"]=0,n.color=I&&re&&g[de(re)]||te&&g[de(te)]||v,n.overflow="hidden",n.whiteSpace="nowrap",n.display="inline-block",n.transition=A?"width .2s ease, color .2s ease":"",n.width=ue+"%",n),_)},Se([],Array(u)).map((function(e,n){var t;return G.createElement(ee,{key:n},(null===(t=k[n])||void 0===t?void 0:t.icon)||y||G.createElement(se,{boxSize:null!=s?s:{base:5,md:8,lg:10},display:"initial",style:{display:"inline-block"}}))}))))))}var qe=function(e){var n=ye(e,[]);return G.createElement(O,{onChange:n.onChange})},Be=function(e){var n=ye(e,[]);return G.createElement(I,Ee({},n,{bg:"#F0F5F7"}))},Ge=function(){return G.createElement(o,{h:"28",w:"full"})},Qe=Q((function(e,n){var t=ye(e,[]);return G.createElement(f,Ee({_focus:{bg:"white",border:"1px solid #1967D2"},bg:"#f0f5f7",p:"6",color:"#696969"},t,{onChange:t.onChange,ref:n,value:t.value||""}))})),Ke=function(e){var n=e.width;return G.createElement(o,{h:"12",w:n||"full",borderRadius:"8px"})},Xe=function(e){var n=ye(e,[]),t=X(),r=t[0],o=t[1],a=T(),l=a.isOpen,i=a.onToggle;return $((function(){de.get(n.fetchUrl,{headers:Ee({},n.requestHeaders)}).then((function(e){return o(e.data)}))}),[]),G.createElement(G.Fragment,null,!n.inline&&G.createElement(A,Ee({onClick:i},n.btnProps),n.btnText),G.createElement(M,{in:!!n.inline||l,animateOpacity:!0},G.createElement(pe,Ee({},n,{data:n.data?n.data:n.treeDataTransformer(r)}))))},$e=G.createContext(void 0);function Je(e){var n,t=this,r=X(!1),o=r[0],a=r[1];D({position:"top",isClosable:!0,variant:"top-accent"});var l=Z((function(){return e.formSchema.describe()}),[]),i=ne({mode:null!==(n=e.mode)&&void 0!==n?n:"onSubmit",resolver:ge(e.formSchema),defaultValues:e.defaultValues?e.defaultValues:void 0});return $((function(){i.reset(e.defaultValues)}),[e.defaultValues,i.reset]),G.createElement($e.Provider,{value:{formSchema:l,control:i.control,isLoading:o,isError:!1,isDefaultValueFetching:e.isDefaultValueFetching}},G.createElement(te,Ee({},i),G.createElement("form",{noValidate:!0,style:{width:"100%"},onSubmit:i.handleSubmit((function(n){return Ce(t,void 0,void 0,(function(){var t;return we(this,(function(r){switch(r.label){case 0:return e.onSubmitSucess&&e.onSubmitSucess(n),e.mutationFunction?e.doesHaveRecaptcha?(a(!0),[4,e.getRecaptcha()]):[3,2]:[3,3];case 1:t=r.sent(),n=Ee(Ee({},n),{captchaToken:t}),a(!1),r.label=2;case 2:e.mutationFunction(n),r.label=3;case 3:return[2]}}))}))}),(function(e){}))},e.children)))}function Ye(){var e=G.useContext($e);if(void 0===e)throw new Error("useAminook must be used within a FormBuilder Tag");return e}var Ze=Q((function(t,r){var o,a,l,i,u=ye(t,[]),c=Ye(),d=c.formSchema,f=c.isDefaultValueFetching,m=re().setValue,v=d.fields[u.name],p=null!==(o=null==v?void 0:v.meta)&&void 0!==o?o:u.fieldSetting,g={name:u.name,value:u.value};return G.createElement(s,{my:u.my,mx:u.mx,display:"inline-block",w:null!==(a=u.width)&&void 0!==a?a:"full"},G.createElement(N,{display:u.hidden?"none":"initial",isInvalid:!!u.error,isRequired:null!==(l=null==v?void 0:v.tests.some((function(e){return"required"===e.name})))&&void 0!==l&&l},!(null==u?void 0:u.hideLabel)&&"checkbox"!==p.type&&G.createElement(j,{htmlFor:u.name,fontSize:"sm",fontWeight:"bold",color:f?"gray.300":"#202124"},(null==v?void 0:v.label)?null==v?void 0:v.label:null==u?void 0:u.label),function(){var t,o,a,l,i,c,d;switch(null!==(t=null==p?void 0:p.type)&&void 0!==t?t:null==p?void 0:p.type){case"input-text":case"input-mask":return f?G.createElement(Ke,{width:null===(o=(null==p?void 0:p.fieldProps).width)||void 0===o?void 0:o.toString()}):G.createElement(Qe,Ee({ref:r},Ee(Ee({},g),null==p?void 0:p.fieldProps),{onChange:function(e){u.onChange(ke(e.target.value))}}));case"input-password":return f?G.createElement(Ke,{width:null===(a=(null==p?void 0:p.fieldProps).width)||void 0===a?void 0:a.toString()}):G.createElement(Fe,Ee({ref:r},Ee(Ee({},g),null==p?void 0:p.fieldProps),{onChange:function(e){u.onChange(ke(e.target.value))}}));case"input-number":return f?G.createElement(Ke,{width:null===(l=(null==p?void 0:p.fieldProps).width)||void 0===l?void 0:l.toString()}):G.createElement(Ve,Ee({ref:r},Ee(Ee({},g),null==p?void 0:p.fieldProps),{onChange:function(e,n){u.onChange(n)}}));case"checkbox":return f?G.createElement(Pe,null):G.createElement(xe,Ee({ref:r},null==p?void 0:p.fieldProps,g,{checked:g.value,title:null!==(i=null==v?void 0:v.label)&&void 0!==i?i:u.label,onChange:function(e){return u.onChange(e.target.checked,e)}}));case"select":return f?G.createElement(Re,null):G.createElement(Ne,Ee({ref:r},null==p?void 0:p.fieldProps,g,{onChange:function(e){return u.onChange(e.target.value,e)}}));case"switch":return G.createElement(qe,Ee({},g,null==p?void 0:p.fieldProps,{onChange:function(e){return u.onChange(e.target.checked)}}));case"text-area":return f?G.createElement(Ge,null):G.createElement(Be,Ee({},g,null==p?void 0:p.fieldProps,{onChange:function(e){return u.onChange(e.target.value,e)}}));case"slider":return G.createElement(Ue,Ee({},u,null==p?void 0:p.fieldProps,{onChange:function(e){u.name.split("_").forEach((function(n,t){return m(""+n,e[t])}))}}));case"input-pin":return G.createElement(Oe,Ee({},g,null==p?void 0:p.fieldProps,{isInvalid:!!u.error,onChange:function(e){return u.onChange(e)}}));case"editor":return G.createElement(ze,Ee({},null==p?void 0:p.fieldProps,{value:u.value,onChange:function(e){return u.onChange(e)}}));case"uploader":return f?G.createElement(n,Ee({},null==p?void 0:p.fieldProps)):G.createElement(e,Ee({},null==p?void 0:p.fieldProps));case"reach-select":return f?G.createElement(Re,null):G.createElement(Me,Ee({ref:r},null==p?void 0:p.fieldProps,{isInvalid:!!u.error,isDisabled:u.isDisabled},g,{onChange:function(e){u.onChange(e)}}));case"input-tag":return f?G.createElement(Ke,null):G.createElement(De,Ee({ref:r},null==p?void 0:p.fieldProps,{isInvalid:!!u.error},g,{onChange:function(e){u.onChange(e)},value:u.value?null===(d=null===(c=u.value)||void 0===c?void 0:c.split(","))||void 0===d?void 0:d.map((function(e){return{value:e,label:e}})):void 0}));case"tree-view":return G.createElement(Xe,Ee({},null==p?void 0:p.fieldProps,g,{onChange:function(e){u.onChange(e)},defaultSelected:u.value}));case"radio-group":return G.createElement(Ie,Ee({},null==p?void 0:p.fieldProps,g,{onChange:function(e){u.onChange(e)}}));case"star-picker":return G.createElement(We,Ee({},null==p?void 0:p.fieldProps,g,{onClick:function(e){u.onChange(e)},initialValue:u.value}));default:return G.createElement(s,null,"Unrecognized field type.")}}(),!!(null==u?void 0:u.helperText)&&G.createElement(L,{fontSize:"xs"},null==u?void 0:u.helperText),!!u.error&&!u.hideError&&G.createElement(R,{fontSize:"xs"},null===(i=u.error)||void 0===i?void 0:i.message)))})),en=function(e){var n=ye(e,[]),t=Ye().control;return G.createElement(oe,{name:n.name,control:t,render:function(e){var t=e.field,r=e.fieldState;return e.formState,G.createElement(Ze,Ee({error:r.error},Ee(Ee(Ee({},n),r),t)))}})},nn=function(e){var n,t,o;e.type;var a=e.text;e.onClick;var l=ye(e,["type","text","onClick"]),i=Ye(),u=i.isLoading,c=i.isDefaultValueFetching,s=re().formState,d=T(),f=d.isOpen,m=d.onToggle;return G.createElement(r,{spacing:"6",mt:l.mt?l.mt:"6"},G.createElement(A,Ee({isLoading:u||l.isLoading,disabled:c||u||l.isLoading,loadingText:"در حال ذخیره اطلاعات...",type:"submit",variant:"primary_dark",fontSize:"sm"},l),a),(null===(n=Object.keys(s.errors))||void 0===n?void 0:n.length)>0&&G.createElement(A,{fontSize:"sm",onClick:m,variant:"outline",colorScheme:"red"},"مشاهده مشکلات"),G.createElement(M,{in:f&&(null===(t=Object.keys(s.errors))||void 0===t?void 0:t.length)>0,animateOpacity:!0},G.createElement(U,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"start",justifyContent:"start",textAlign:"right",p:"6"},G.createElement(_,{boxSize:"40px",mr:0}),G.createElement(H,{mt:4,mb:1,fontSize:"sm"},"ثبت اطلاعات پس از رفع مشکلات زیر امکانپذیر است."),G.createElement(W,{maxWidth:"sm"},G.createElement(q,null,null===(o=Object.keys(s.errors))||void 0===o?void 0:o.map((function(e,n){return G.createElement(B,{key:n},G.createElement(r,null,G.createElement(S,{fontWeight:"bold",fontSize:"sm"},e),G.createElement(S,{fontSize:"xs"},s.errors[e].message)))})))))))},tn=/09(1[0-9]|3[1-9]|2[1-9])-?[0-9]{3}-?[0-9]{4}/,rn=/^0[0-9]{2,}[0-9]{7,}$/,on=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],an=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],ln=he().transform((function(e,n){return he().isType(e)&&null!==e?function(e){if("string"==typeof e)for(var n=0;n<10;n++)e=e.replace(on[n],""+n).replace(an[n],""+n);return e}(e):e})),un=function(){return be().transform((function(e,n){return e?e.value:n?n.value:null}))};export{en as ControlledFormControl,Je as FormBuilder,Ze as FormControl,nn as FormSubmitButton,Ne as Select,ln as inherentNumberString,tn as mobileIranValidation,rn as phoneNumberIranValidation,un as selectWithValueExtractor,Ye as useAminook};

import{ChakraFileUploader as e,ChakraFileUploaderSkeleton as n}from"@aminbaghbanzadeh/chakra-file-uploader";import{Checkbox as t,NumberInput as r,NumberInputField as o,NumberInputStepper as a,NumberIncrementStepper as l,NumberDecrementStepper as i,Center as u,HStack as c,PinInput as s,PinInputField as d,Spinner as f,Text as m,RangeSlider as v,RangeSliderTrack as p,RangeSliderFilledTrack as h,RangeSliderThumb as g,Box as b,Switch as y,Textarea as E,Input as C,useToast as w,Select as S,useDisclosure as k,Button as x,Collapse as P,RadioGroup as z,Stack as V,Radio as F,SkeletonCircle as O,Skeleton as I,Tooltip as M,FormControl as T,FormLabel as A,FormHelperText as j,FormErrorMessage as D,Alert as R,AlertIcon as N,AlertTitle as L,AlertDescription as U,UnorderedList as H,ListItem as B}from"@chakra-ui/react";import W,{forwardRef as _,useState as q,useEffect as G,useCallback as K,useReducer as Q,useMemo as X,Fragment as $}from"react";import{useForm as J,FormProvider as Y,useFormContext as Z,Controller as ee}from"react-hook-form";import{useTranslation as ne}from"react-i18next";import{Editor as te}from"@tinymce/tinymce-react";import re from"axios";import{withAsyncPaginate as oe,AsyncPaginate as ae}from"react-select-async-paginate";import le from"react-select/creatable";import{SearchIcon as ie,StarIcon as ue}from"@chakra-ui/icons";import{yupResolver as ce}from"@hookform/resolvers/yup";import{Tree as se}from"@aminbaghbanzadeh/chakra-tree-view";import{string as de,number as fe}from"yup";var me=function(){return(me=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function ve(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}function pe(e,n,t,r){return new(t||(t=Promise))((function(o,a){function l(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,i)}u((r=r.apply(e,n||[])).next())}))}function he(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function ge(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}var be=_((function(e,n){var r=ve(e,[]);return W.createElement(t,me({},r,{isChecked:r.checked,onChange:r.onChange,ref:n}),r.title)})),ye=function(e){var n,t=ve(e,[]);return W.createElement(te,me({},t.editorProps,{value:t.value,tinymceScriptSrc:process.env.PUBLIC_URL+"/tinymce/tinymce.min.js",onEditorChange:function(e){return t.onChange(e)},init:me({directionality:"rtl",language:"fa",mobile:{menubar:!1,toolbar:"undo redo | formatselect | bold italic backcolor"},menubar:!1,height:300,plugins:["lists","directionality"],toolbar:"undo redo | ltr rtl | blocks |  formatselect | bold italic  | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | "},null===(n=t.editorProps)||void 0===n?void 0:n.init)}))},Ee=_((function(e,n){var t=ve(e,[]);return W.createElement(r,me({ref:n},t,{size:"sm",inputMode:"numeric",min:0,max:1/0,value:t.value||0===t.value?t.value:""}),W.createElement(o,{bg:"#F0F5F7",p:"6"}),W.createElement(a,null,W.createElement(l,null),W.createElement(i,null)))})),Ce=function(e){var n=ve(e,[]);return W.createElement(u,{dir:"ltr"},W.createElement(c,null,W.createElement(s,{otp:!0,onChange:function(e){return n.onChange(e)},isInvalid:n.isInvalid,autoFocus:!0,size:"lg"},ge([],Array(n.count)).map((function(e,n){return W.createElement(d,{key:n})})))))},we=function(e){return{control:function(n,t){var r;return me(me({},n),{padding:"0.2rem",backgroundColor:null!==(r=e.backgroundColor)&&void 0!==r?r:"#f0f5f7",border:"2px solid !impoetant",borderWidth:"2px !important",borderColor:e.isInvalid?"#e53e3e !important":t.isFocused?"#1967d2":"#E2E8F0 !important",borderRadius:"0.375rem","&hover":{borderColor:"#cbd5e0 !important"}})},input:function(e){return me(me({},e),{color:"#696969",fontSize:"0.875rem"})},valueContainer:function(e){return me(me({},e),{color:"#696969",fontSize:"0.875rem"})},indicatorSeparator:function(e){return me(me({},e),{display:"none"})},indicatorsContainer:function(e){return me(me({},e),{color:"black"})},option:function(e,n){return me(me({},e),{color:n.isSelected?"white":"black",padding:"0.2rem",paddingRight:"0.5rem",fontFamily:"inherit !important",fontSize:"0.875rem","&:hover":me(me({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"}),"&:focus":me(me({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"}),"&:active":me(me({},e),{fontSize:"0.875rem",padding:"0.2rem",color:"white",backgroundColor:"#0385ff !important"})})},loadingMessage:function(e,n){return me(me({},e),{fontSize:"0.875rem"})},noOptionsMessage:function(e,n){return me(me({},e),{fontSize:"0.875rem"})},multiValue:function(e,n){return me(me({},e),{background:"#d5e1f6",fontSize:"0.875rem",padding:"0.2rem 0.4rem"})}}},Se=oe(le),ke=_((function(e,n){var t=ve(e,[]),r=function(e,n){return pe(void 0,void 0,void 0,(function(){var r,o,a,l;return he(this,(function(i){switch(i.label){case 0:return[4,re.get(""+t.fetchUrl+t.searchQueryFieldName+"="+e+"&"+(null!==(o=t.offsetQueryFieldName)&&void 0!==o?o:"SkipCount")+"="+n.length)];case 1:return r=i.sent(),[2,{options:Array.isArray(r.data)?r.data:r.data[null!==(a=t.resultFieldName)&&void 0!==a?a:"items"],hasMore:Array.isArray(r.data)?r.data.length>n.length:r.data[null!==(l=t.totalCountFieldName)&&void 0!==l?l:"totalCount"]>n.length}]}}))}))};return t.isCreatable?W.createElement(Se,me({styles:we(t),isRtl:!0,placeholder:"انتخاب کنید.",isClearable:!0,isSearchable:!0,selectRef:n,defaultValue:t.value,noOptionsMessage:function(e){return"گزینه ای مرتبط با "+e.inputValue+" یافت نشد."},loadingMessage:function(){return"در حال بارگزاری..."},onChange:function(e,n){return t.onChange(e,n)},components:{LoadingIndicator:function(){return W.createElement(f,{size:"sm",colorScheme:"blue"})}},debounceTimeout:2e3,formatCreateLabel:function(e){return W.createElement(c,null,W.createElement(ie,null),W.createElement(m,null,'"',e,'"'))}},t,{loadOptions:r})):W.createElement(ae,me({styles:we(t),placeholder:"انتخاب کنید.",noOptionsMessage:function(e){return"گزینه ای مرتبط با "+e.inputValue+" یافت نشد."},isClearable:!0,isSearchable:!0,selectRef:n,defaultValue:t.value,debounceTimeout:2e3,loadingMessage:function(){return"در حال بارگزاری..."},onChange:function(e,n){return t.onChange(e,n)},components:{LoadingIndicator:function(){return W.createElement(f,{size:"sm",colorScheme:"blue"})}}},t,{loadOptions:r}))})),xe=function(e){var n,t=ve(e,[]),r=q(null!==(n=t.defaultValue)&&void 0!==n?n:[10,100]),o=r[0],a=r[1];return W.createElement(W.Fragment,null,W.createElement(v,me({"aria-label":["min","max"],min:t.min,max:t.max,defaultValue:t.defaultValue},t,{width:"full",onChangeEnd:function(e){a(e),t.onChange(e)},onChange:function(e){a(e)},size:"md"}),W.createElement(p,null,W.createElement(h,null)),W.createElement(g,{index:0,width:16,height:6},W.createElement(b,{color:"primary.500",fontSize:"2xs"},"حداقل (",o[0],")")),W.createElement(g,{index:1,width:16,height:6},W.createElement(b,{color:"primary.500",fontSize:"2xs"},"حداکثر (",o[1],")"))))},Pe=function(e){var n=ve(e,[]);return W.createElement(y,{onChange:n.onChange})},ze=function(e){var n=ve(e,[]);return W.createElement(E,me({},n,{bg:"#F0F5F7"}))},Ve=_((function(e,n){var t=ve(e,[]);return W.createElement(C,me({_focus:{bg:"white",border:"1px solid #1967D2"}},t,{onChange:t.onChange,ref:n,value:t.value||"",bg:"#f0f5f7",p:"6",color:"#696969"}))})),Fe=function(e,n,t,r){var o=q(null),a=o[0],l=o[1];return G((function(){r&&function(e,n,t){var r=document.getElementById(e);if(r){var o=window.grecaptcha;l(o)}else{var a=document.createElement("script");a.type="text/javascript",a.src=n,a.id=e,a.onload=function(){var e=window.grecaptcha;e.ready((function(){l(e)}))},document.body.appendChild(a)}r&&t&&t()}("recaptcha-key","https://www.google.com/recaptcha/api.js?render="+n,(function(){}))}),[e]),[K((function(){return pe(void 0,void 0,void 0,(function(){return he(this,(function(e){switch(e.label){case 0:if(!a||!a.execute)throw new Error("Google Recaptcha has not been loaded");return[4,a.execute(n,{action:"submit"})];case 1:return[2,e.sent()]}}))}))}),[a])]},Oe=W.createContext(void 0);function Ie(e){var n,t,r=this,o=q(!1),a=o[0],l=o[1],i=w({position:"top",isClosable:!0,variant:"top-accent"}),u=Fe("recaptcha-key",e.recaptchaApiKey,0,null!==(n=e.doesHaveRecaptcha)&&void 0!==n&&n)[0],c=e.formSchema.describe(),s=J({mode:null!==(t=e.mode)&&void 0!==t?t:"onSubmit",resolver:ce(e.formSchema),defaultValues:e.defaultValues?e.defaultValues:void 0});return G((function(){s.reset(e.defaultValues)}),[e.defaultValues,s.reset]),W.createElement(Oe.Provider,{value:{formSchema:c,control:s.control,translation:e.translation,router:e.router,isLoading:a,isError:!1,isDefaultValueFetching:e.isDefaultValueFetching}},W.createElement(Y,me({},s),W.createElement("form",{noValidate:!0,style:{width:"100%"},onSubmit:s.handleSubmit((function(n){return pe(r,void 0,void 0,(function(){var t;return he(this,(function(r){switch(r.label){case 0:return e.onSubmitSucess?(e.onSubmitSucess(n),[2]):e.doesHaveRecaptcha?[4,u()]:[3,2];case 1:t=r.sent(),n=me(me({},n),{captchaToken:t}),r.label=2;case 2:return e.mutationFunction&&(l(!0),e.mutationFunction(n).then((function(t){l(!1),e.showToastOnSuccess&&i({title:e.successToastMessage,status:"success"}),e.onMutateSucess&&e.onMutateSucess(t.data,n)})).catch((function(n){l(!1),e.onMutateError&&e.onMutateError(n),i({title:n.code,description:n.message,status:"error"})}))),[2]}}))}))}),(function(n){e.onSubmitError&&e.onSubmitError(n)}))},e.children)))}function Me(){var e=W.useContext(Oe);if(void 0===e)throw new Error("useAminook must be used within a FormBuilder Tag");return e}var Te=_((function(e,n){var t=ve(e,[]);return t.options?W.createElement(Ae,me({ref:n},t)):t.fetchUrl?W.createElement(je,me({ref:n},t)):W.createElement(S,null)})),Ae=_((function(e,n){var t,r=ve(e,[]);return W.createElement(S,me({},r,{ref:n,onChange:r.onChange,bg:"#F0F5F7",size:"lg",fontSize:"sm"}),null===(t=r.options)||void 0===t?void 0:t.map((function(e){return W.createElement("option",{value:e.value,key:e.value},e.label)})))})),je=_((function(e,n){return ve(e,[]),W.createElement(b,null)})),De=_((function(e,n){var t,r,o=ve(e,[]),a=q(),l=a[0],i=a[1],u=q(null!==(t=o.value)&&void 0!==t?t:[]),c=u[0],s=u[1];G((function(){o.value&&s(o.value)}),[o.value]);var d=K((function(e){i(e)}),[]),f=K((function(e){if(l)switch(e.key){case"Enter":case"Tab":e.preventDefault(),e.stopPropagation(),i(""),s((function(e){return ge(ge([],e),[{label:l,value:l}])})),o.onChange(c.map((function(e){return e.value})).concat(l).join(",")),i("")}}),[l]),m=K((function(e,n){o.onChange(e.map((function(e){return e.value})).join(",")),s(e)}),[s]);return W.createElement(le,me({styles:we(o)},o,{ref:n,placeholder:null!==(r=o.placeholder)&&void 0!==r?r:"انتخاب کنید.",components:{DropdownIndicator:null},inputValue:l,isMulti:!0,menuIsOpen:!1,onChange:m,onInputChange:d,onKeyDown:f,value:c}))})),Re=function(e){var n=ve(e,[]),t=q(),r=t[0],o=t[1],a=k(),l=a.isOpen,i=a.onToggle;return G((function(){re.get(n.fetchUrl,{headers:me({},n.requestHeaders)}).then((function(e){return o(e.data)}))}),[]),W.createElement(W.Fragment,null,!n.inline&&W.createElement(x,me({onClick:i},n.btnProps),n.btnText),W.createElement(P,{in:!!n.inline||l,animateOpacity:!0},W.createElement(se,me({},n,{data:n.data?n.data:n.treeDataTransformer(r)}))))},Ne=function(e){var n=ve(e,[]),t=q(n.options),r=t[0],o=t[1];return G((function(){n.fetchUrl&&re.get(n.fetchUrl).then((function(e){o((function(){var t;return Array.isArray(e.data)?e.data:e.data[null!==(t=n.resultFieldName)&&void 0!==t?t:"items"]}))}))}),[n.fetchUrl]),W.createElement(z,me({},n,{mt:"4",value:n.value,onChange:n.onChange}),W.createElement(V,{spacing:2},null==r?void 0:r.map((function(e){var t;return W.createElement(F,me({},n.radioProps,{key:e.value,value:null===(t=e.value)||void 0===t?void 0:t.toString()}),e.label)})),!r&&Array(5).fill(0).map((function(e,n){return W.createElement(c,{key:n},W.createElement(O,{boxSize:"20px"}),W.createElement(I,{h:"10",w:"48"}))})),!!r&&!!n.value&&W.createElement(F,me({},n.radioProps,{key:"init",value:""}),"تفاوتی ندارد")))},Le=function(e){var n=e.width;return W.createElement(I,{h:"12",w:n||"full",borderRadius:"8px"})},Ue=function(){return W.createElement(c,{spacing:"2"},W.createElement(I,{h:"5",rounded:"sm",w:"5"}),W.createElement(I,{h:"5",rounded:"sm",w:"40"}))},He=function(){return W.createElement(I,{h:"12",w:"full",borderRadius:"8px"})},Be=function(){return W.createElement(I,{h:"28",w:"full"})},We=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0};function _e(e,n){switch(n.type){case"PointerMove":return me(me({},e),{hoverValue:n.payload});case"PointerLeave":return{defaultValue:e.defaultValue,hoverValue:null};case"MouseClick":return me(me({},e),{defaultValue:n.payload});default:return e}}function qe(e){var n,t=e.onClick,r=e.initialValue,o=void 0===r?0:r,a=e.ratingValue,l=void 0===a?0:a,i=e.iconsCount,u=void 0===i?5:i,c=e.size,s=void 0===c?20:c,d=e.readonly,f=void 0!==d&&d,m=e.fillColor,v=void 0===m?"#ffbc0b":m,p=e.fillColorArray,h=void 0===p?[]:p,g=e.emptyColor,b=void 0===g?"#cccccc":g,y=e.fullIcon,E=void 0===y?null:y,C=e.emptyIcon,w=void 0===C?null:C,S=e.customIcons,k=void 0===S?[]:S,x=e.rtl,P=void 0!==x&&x,z=e.allowHalfIcon,V=void 0!==z&&z,F=e.allowHover,O=void 0===F||F,I=e.transition,T=void 0!==I&&I,A=e.className,j=void 0===A?"react-simple-star-rating":A,D=e.style,R=e.fullClassName,N=void 0===R?"filled-icons":R,L=e.emptyClassName,U=void 0===L?"empty-icons":L,H=e.fullStyle,B=e.emptyStyle,_=e.showTooltip,q=void 0!==_&&_,G=e.tooltipDefaultText,J=void 0===G?"امتیاز":G,Y=e.tooltipArray,Z=void 0===Y?[]:Y;e.tooltipClassName,e.tooltipStyle;var ee=Q(_e,{defaultValue:l,hoverValue:null}),ne=ee[0],te=ne.defaultValue,re=ne.hoverValue,oe=ee[1];W.useEffect((function(){return oe({type:"MouseClick",payload:l})}),[l]);var ae=function(e){var n=e.clientX,t=e.currentTarget.children[0].getBoundingClientRect(),r=t.left,o=t.right,a=t.width,l=function(e,n,t){for(var r=100/e,o=t/e,a=100,l=0;l<e;l+=1)if(n<=o*l+o/4){a=0===l&&n<o/2?0:r*l;break}return a}(se,P?o-n:n-r,a);l>0&&re!==l&&oe({type:"PointerMove",payload:l})},le=function(){re&&(oe({type:"MouseClick",payload:re}),t&&t(re/20))},ie=X((function(){return Math.round(o/u*100)}),[o,u]),ce=X((function(){return O&&re&&re||te&&te||ie}),[O,re,te,ie]),se=X((function(){return V?2*u:u}),[V,u]),de=K((function(e){var n=1;return e&&(n=V?e/se:e/2/10),Math.round(n-1)}),[V,se]),fe=K((function(e){return V?e/2/10:de(e)+1}),[V,de]),ve=function(e){return Z.length>0?Z[de(e)]:fe(e)||0};return W.createElement(M,{isDisabled:!q,label:re&&ve(re)||te&&ve(te)||ie&&ve(ie)||J},W.createElement("span",{style:{display:"inline-block",direction:P?"rtl":"ltr",touchAction:"none",position:"relative"}},W.createElement("span",{className:j,style:me({position:"relative",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",cursor:f?"":"pointer",verticalAlign:"middle",userSelect:"none"},D),onPointerMove:f?void 0:ae,onPointerEnter:f?void 0:function(e){We()&&ae(e)},onPointerLeave:f?void 0:function(){We()&&le(),oe({type:"PointerLeave"})},onClick:f?void 0:le,"aria-hidden":"true"},W.createElement("span",{className:U,style:me({display:"inline-block",color:b},B)},ge([],Array(u)).map((function(e,n){var t;return W.createElement($,{key:n},(null===(t=k[n])||void 0===t?void 0:t.icon)||w||W.createElement(ue,{key:n,boxSize:null!=s?s:{base:5,md:8,lg:10},style:{display:"inline-block"}}))}))),W.createElement("span",{className:N,style:me((n={position:"absolute",top:0},n[P?"right":"left"]=0,n.color=O&&re&&h[de(re)]||te&&h[de(te)]||v,n.overflow="hidden",n.whiteSpace="nowrap",n.display="inline-block",n.transition=T?"width .2s ease, color .2s ease":"",n.width=ce+"%",n),H)},ge([],Array(u)).map((function(e,n){var t;return W.createElement($,{key:n},(null===(t=k[n])||void 0===t?void 0:t.icon)||E||W.createElement(ue,{boxSize:null!=s?s:{base:5,md:8,lg:10},display:"initial",style:{display:"inline-block"}}))}))))))}var Ge=_((function(t,r){var o,a,l,i,u,c,s,d,f,m=ve(t,[]),v=ne("validations")[0],p=Me(),h=p.translation,g=p.router,y=p.formSchema,E=p.isDefaultValueFetching,C=Z().setValue,w=y.fields[m.name],S=null!==(o=null==w?void 0:w.meta)&&void 0!==o?o:m.fieldSetting,k={name:m.name,value:m.value};return W.createElement(b,{my:m.my,mx:m.mx,display:"inline-block",w:{base:null!==(l=null===(a=m.width)||void 0===a?void 0:a.base)&&void 0!==l?l:"full",md:null!==(u=null===(i=m.width)||void 0===i?void 0:i.md)&&void 0!==u?u:"full"}},W.createElement(T,{display:m.hidden?"none":"initial",isInvalid:!!m.error,isRequired:null!==(c=null==w?void 0:w.tests.some((function(e){return"required"===e.name})))&&void 0!==c&&c},!(null==S?void 0:S.hideLabel)&&"checkbox"!==S.type&&W.createElement(A,{htmlFor:m.name,fontSize:"sm",fontWeight:"bold",color:E?"gray.300":"#202124"},(null==w?void 0:w.label)?null==w?void 0:w.label:(null===(s=null==m?void 0:m.fieldSetting)||void 0===s?void 0:s.label)?null===(d=null==m?void 0:m.fieldSetting)||void 0===d?void 0:d.label:h((g?null==g?void 0:g.pathname:window.location.pathname)+".form.labels."+m.name)),function(){var t,o,a,l,i,u;switch(null!==(t=null==S?void 0:S.type)&&void 0!==t?t:null===(o=m.fieldSetting)||void 0===o?void 0:o.type){case"input-text":case"input-mask":return E?W.createElement(Le,{width:null===(a=(null==S?void 0:S.fieldProps).width)||void 0===a?void 0:a.toString()}):W.createElement(Ve,me({ref:r},me(me({},k),null==S?void 0:S.fieldProps),{onChange:function(e){m.onChange(function(e){var n=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],t=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];if("string"==typeof e)for(var r=0;r<10;r++)e=e.replace(n[r],r.toString()).replace(t[r],r.toString());return e}(e.target.value))}}));case"input-number":return E?W.createElement(Le,{width:null===(l=(null==S?void 0:S.fieldProps).width)||void 0===l?void 0:l.toString()}):W.createElement(Ee,me({ref:r},me(me({},k),null==S?void 0:S.fieldProps),{onChange:function(e,n){m.onChange(n)}}));case"checkbox":return E?W.createElement(Ue,null):W.createElement(be,me({ref:r},null==S?void 0:S.fieldProps,k,{checked:k.value,title:null==w?void 0:w.label,onChange:function(e){return m.onChange(e.target.checked,e)}}));case"select":return E?W.createElement(He,null):W.createElement(Te,me({ref:r},null==S?void 0:S.fieldProps,k,{onChange:function(e){return m.onChange(e.target.value,e)}}));case"switch":return W.createElement(Pe,me({},k,null==S?void 0:S.fieldProps,{onChange:function(e){return m.onChange(e.target.checked)}}));case"text-area":return E?W.createElement(Be,null):W.createElement(ze,me({},k,null==S?void 0:S.fieldProps,{onChange:function(e){return m.onChange(e.target.value,e)}}));case"slider":return W.createElement(xe,me({},m,null==S?void 0:S.fieldProps,{onChange:function(e){m.name.split("_").forEach((function(n,t){return C(""+n,e[t])}))}}));case"input-pin":return W.createElement(Ce,me({},k,null==S?void 0:S.fieldProps,{isInvalid:!!m.error,onChange:function(e){return m.onChange(e)}}));case"editor":return W.createElement(ye,me({},null==S?void 0:S.fieldProps,{value:m.value,onChange:function(e){return m.onChange(e)}}));case"uploader":return E?W.createElement(n,me({},null==S?void 0:S.fieldProps)):W.createElement(e,me({},null==S?void 0:S.fieldProps));case"reach-select":return E?W.createElement(He,null):W.createElement(ke,me({ref:r},null==S?void 0:S.fieldProps,{isInvalid:!!m.error,isDisabled:null==S?void 0:S.isDisabled},k,{onChange:function(e){m.onChange(e)}}));case"input-tag":return E?W.createElement(Le,null):W.createElement(De,me({ref:r},null==S?void 0:S.fieldProps,{isInvalid:!!m.error},k,{onChange:function(e){m.onChange(e)},value:m.value?null===(u=null===(i=m.value)||void 0===i?void 0:i.split(","))||void 0===u?void 0:u.map((function(e){return{value:e,label:e}})):void 0}));case"tree-view":return W.createElement(Re,me({},null==S?void 0:S.fieldProps,k,{onChange:function(e){m.onChange(e)},defaultSelected:m.value}));case"radio-group":return W.createElement(Ne,me({},null==S?void 0:S.fieldProps,k,{onChange:function(e){m.onChange(e)}}));case"star-picker":return W.createElement(qe,me({},null==S?void 0:S.fieldProps,k,{onClick:function(e){m.onChange(e)},initialValue:m.value}));default:return W.createElement(b,null,"Unrecognized field type.")}}(),!!(null==S?void 0:S.helperText)&&W.createElement(j,{fontSize:"xs"},null==S?void 0:S.helperText),!!m.error&&W.createElement(D,{fontSize:"xs"},h?v(m.error.type,{path:h((g?g.pathname:window.location.pathname)+".form.labels."+m.name),value:m.value}):null===(f=m.error)||void 0===f?void 0:f.message)))})),Ke=function(e){var n=ve(e,[]),t=Me().control;return W.createElement(ee,{name:n.name,control:t,render:function(e){var t=e.field,r=e.fieldState;return e.formState,W.createElement(Ge,me({error:r.error},me(me(me({},n),r),t)))}})},Qe=function(e){var n,t,r;e.type;var o=e.text;e.onClick;var a=ve(e,["type","text","onClick"]),l=Me(),i=l.isLoading,u=l.isDefaultValueFetching,s=Z().formState,d=k(),f=d.isOpen,v=d.onToggle;return G((function(){console.log(s.errors)}),[s]),W.createElement(c,{spacing:"6",mt:a.mt?a.mt:"6"},W.createElement(x,me({isLoading:i,loadingText:"در حال ذخیره اطلاعات...",type:"submit",variant:"primary_dark",fontSize:"sm"},a,{disabled:u||i}),o),(null===(n=Object.keys(s.errors))||void 0===n?void 0:n.length)>0&&W.createElement(x,{fontSize:"sm",onClick:v,variant:"outline",colorScheme:"red"},"مشاهده مشکلات"),W.createElement(P,{in:f&&(null===(t=Object.keys(s.errors))||void 0===t?void 0:t.length)>0,animateOpacity:!0},W.createElement(R,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"start",justifyContent:"start",textAlign:"right",p:"6"},W.createElement(N,{boxSize:"40px",mr:0}),W.createElement(L,{mt:4,mb:1,fontSize:"sm"},"ثبت اطلاعات پس از رفع مشکلات زیر امکانپذیر است."),W.createElement(U,{maxWidth:"sm"},W.createElement(H,null,null===(r=Object.keys(s.errors))||void 0===r?void 0:r.map((function(e,n){return W.createElement(B,{key:n},W.createElement(c,null,W.createElement(m,{fontWeight:"bold",fontSize:"sm"},e),W.createElement(m,{fontSize:"xs"},s.errors[e].message)))})))))))},Xe=/09(1[0-9]|3[1-9]|2[1-9])-?[0-9]{3}-?[0-9]{4}/,$e=/^0[0-9]{2,}[0-9]{7,}$/,Je=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],Ye=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],Ze=de().transform((function(e,n){return de().isType(e)&&null!==e?function(e){if("string"==typeof e)for(var n=0;n<10;n++)e=e.replace(Je[n],""+n).replace(Ye[n],""+n);return e}(e):e})),en=function(){return fe().transform((function(e,n){return e?e.value:n?n.value:null}))};export{Ke as ControlledFormControl,Ie as FormBuilder,Ge as FormControl,Qe as FormSubmitButton,Te as Select,Ze as inherentNumberString,Xe as mobileIranValidation,$e as phoneNumberIranValidation,en as selectWithValueExtractor,Me as useAminook};
//# sourceMappingURL=index.js.map
